<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit-icons.min.js"></script>
    <title>Results for {{ query }}</title>
</head>
<style>
*{
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* <script type="text/javascript">
    var text = document.getElementById('output').innerText;
    var result = JSON.stringify(JSON.parse(text), null, 2);
    document.getElementById('out_pre').innerText= result ;
</script> */
</style>
<body background="../static/background.png">
    <div class="container">
    <h1>{{num}} results for "{{query}}", takes {{time}}s</h1>
    {% if results == [] %}
        <h3>No poem found, try a different query</h3>
    {% else %}
                {% for res in results %}
                    <div class="uk-flex uk-flex-center">
                        <div class="uk-card uk-card-hover uk-card-body">
                            <p class="poem_name" id="output">{{res.poem_name}}</p>
                            <p class="poet_name" id="output">{{res.poet_name}}</p>
                            <p class="dynasty_name" id="output">{{res.dynasty_name}}</p>
                            <p class="contents" id="output">{{res.contents}}</p>
                            <script type="text/javascript">
                                document.write(res[poem_name]);
                            </script>
                        </div>
                    </div>
            {% endfor %}
    </div>
    
    {% endif %}
</body>
</html>